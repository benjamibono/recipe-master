# Supabase Storage Setup Instructions

## 1. Create Storage Bucket
1. Go to Supabase Dashboard
2. Navigate to Storage > Buckets
3. Click "Create new bucket"
4. Set the following:
   - Name: recipes
   - Public bucket: Yes
   - File size limit: 5MB (recommended for images)

## 2. Configure Storage Policies
Go to the "Policies" tab in your bucket and add these policies:

### Upload Policy (INSERT)
```sql
CREATE POLICY "Authenticated users can upload images" ON storage.objects
FOR INSERT TO authenticated WITH CHECK (
  bucket_id = 'recipes' AND
  (LOWER(storage.extension(name)) IN ('png', 'jpg', 'jpeg', 'gif', 'webp'))
);
```

### View Policy (SELECT)
```sql
CREATE POLICY "Anyone can view images" ON storage.objects
FOR SELECT USING (
  bucket_id = 'recipes'
);
```

### Delete Policy (DELETE) - Optional
```sql
CREATE POLICY "Users can delete their own images" ON storage.objects
FOR DELETE TO authenticated USING (
  bucket_id = 'recipes' AND
  auth.uid() = owner
);
```

## 3. Additional Settings (Optional)
- Maximum file size: 5MB
- Allowed MIME types: image/*
- Allowed extensions: .jpg, .jpeg, .png, .gif, .webp

## 4. Testing
After setting up, you should be able to:
1. Upload images when authenticated
2. View images whether authenticated or not
3. Delete your own images (if delete policy is added)

Note: Make sure your application's Supabase client is properly initialized with the correct credentials. 